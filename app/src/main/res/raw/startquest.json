{
  "scenes": [
    {
      "code": "bornPlayer",
      "type": "TECHNICAL",
      "text": "",
      "selects": [
        {
          "task": {
            "code": "createPlayer",
            "name": "Создаем персонажа игрока",
            "results": [
              {
                "target": "HUTOR",
                "action": "ADD_WORKER",
                "status": {
                  "code": "ADULT",
                  "name": "Тит",
                  "description": "Много-говорит",
                  "value": 0.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "GAMER",
                  "name": "Персонаж игрока",
                  "value": 1.0,
                  "visible": false
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "isHelper",
                  "name": "Сам себе помощник",
                  "value": 1.0,
                  "visible": false
                }
              },
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "populationsRES",
                  "name": "Население",
                  "description": "Количество людей",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_BY_RANDOM_VALUE",
                "status": {
                  "code": "foodsRES",
                  "name": "Продовольствие",
                  "description": "",
                  "value": 40.0,
                  "visible": true
                }
              },
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_BY_RANDOM_VALUE",
                "status": {
                  "code": "foodsRES",
                  "name": "Продовольствие",
                  "description": "",
                  "value": -40.0,
                  "visible": true
                }
              }
            ]
          },
          "nextScene": "selectPerson"
        }
      ]
    },
    {
      "code": "selectPerson",
      "text": "Жил был на свете Данил Гамадрил. Был он бароном, увлекался погромом. Часто пил ром отчего, а от него в баронстве разгром. От беспорядка барон осерчал и на своем пути повстречал...",
      "selects": [
        {
          "task": {
            "code": "selectHunter",
            "name": "Охотника",
            "description": "",
            "results": [
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "hunterRANK",
                  "name": "Охотник",
                  "description": "Умеет выслеживать зверя, луком там и вот это все",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "rangerSKILL",
                  "name": "Следопыт",
                  "description": "Позволяет читать следы",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "bowSKILL",
                  "name": "Стрельба из лука",
                  "description": "Умеет стрелять из лука",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "carveSKILL",
                  "name": "Свежевание",
                  "description": "Умеет разделывать туши",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "survivalSKILL",
                  "name": "Выживание",
                  "description": "Приспособлен к выживанию в дикой природе",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "illiterateVICE",
                  "name": "Неграмотный",
                  "description": "Плохо считает, почти не читает",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "superstitiousVICE",
                  "name": "Суеверный",
                  "description": "Верит в колдовство и приметы",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "cruelVICE",
                  "name": "Жестокий",
                  "description": "Испытывает тягу к насилию",
                  "value": 1.0,
                  "visible": false
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "attentionSTATUS",
                  "name": "Внимательность",
                  "description": "Природная наблюдательность и осторожность",
                  "value": 1.0,
                  "visible": false
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "agilitySTATUS",
                  "name": "Ловкий",
                  "description": "Природная гибкость и координация",
                  "value": 1.0,
                  "visible": false
                }
              }
            ]
          },
          "nextScene": "frontir"
        },
        {
          "task": {
            "code": "selectThief",
            "name": "Вора",
            "description": "",
            "results": [
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "thiefRANK",
                  "name": "Вор",
                  "description": "Ловкость рук и всякое мошенничество",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "agilitySTATUS",
                  "name": "Ловкий",
                  "description": "Природная гибкость и координация",
                  "value": 1.0,
                  "visible": false
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "crackerSKILL",
                  "name": "Взломщик",
                  "description": "Двери и сундуки не помеха",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "attentionSTATUS",
                  "name": "Внимательность",
                  "description": "Природная наблюдательность и осторожность",
                  "value": 1.0,
                  "visible": false
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "greedVICE",
                  "name": "Жадность",
                  "description": "И побольше, побольше",
                  "value": 1.0,
                  "visible": false
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "hasEnemyVICE",
                  "name": "Имеет темное прошлое",
                  "description": "Помолодости совершил множество препуступлений, многим насолив",
                  "value": 1.0,
                  "visible": true
                }
              }
            ]
          },
          "nextScene": "frontir"
        },
        {
          "nextScene": "frontir",
          "task": {
            "code": "selectMerchant",
            "name": "Купца",
            "description": "",
            "results": [
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "merchantRANK",
                  "name": "Торговец",
                  "description": "Знает, на чем поиметь выгоду",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "economicSKILL",
                  "name": "Экономист",
                  "description": "Умеет извлекать дополнительную выгоду",
                  "value": 1.0,
                  "visible": false
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "hasFriends",
                  "name": "Имеет деловые связи",
                  "description": "Знаком с несколькими торговцами и дельцами в округе",
                  "value": 1.0,
                  "visible": true
                }
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "greedVICE",
                  "name": "Жадность",
                  "description": "И побольше, побольше",
                  "value": 1.0,
                  "visible": false
                }
              }
            ]
          }
        },
        {
          "nextScene": "baronsDead",
          "task": {
            "code": "selectReaper",
            "name": "Жнеца",
            "description": "",
            "results": [
              {
                "target": "HUTOR",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "VICTORY",
                  "name": "ПОБЕДА",
                  "description": "И оказалось это началом конца. Индоктринировал Жнец подлеца.\nХутор так и не узнал о бароне",
                  "value": 1.0,
                  "visible": true
                }
              }
            ]
          }
        }
      ]
    },
    {
      "code": "baronsDead",
      "type": "END",
      "text": "И оказалось это началом конца. Индоктринировал Жнец подлеца"
    },
    {
      "code": "frontir",
      "text": "Будешь помощником! Сроком на год. А дальше как знать... Почет? Эшафот? Дорога лежит тебе в лесной край. Способ доставки - сам выбирай. Живет там ведьма, а с нею сынки - дань ты с них мне собери. Сто звонких монет! Поспеши!",
      "selects": [
        {
          "nextScene": "home",
          "task": {
            "code": "goHome",
            "name": "- Заехать домой сперва разреши!",
            "results": [
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "weeksRES",
                  "name": "Прошло недель",
                  "value": 1.0,
                  "visible": true
                },
                "successMessage": "Прошла неделя отпущенного срока"
              },
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "wasEscorted",
                  "name": "Был конвоирован",
                  "value": 1.0,
                  "visible": false
                }
              }
            ]
          }
        },
        {
          "nextScene": "traktir",
          "task": {
            "code": "goToTraktir",
            "name": "Тит (наш герой): - Поспешу! И с ведьмы с дитями оброк соберу. А уж привезу ли - попозже решу..."
          }
        }
      ]
    },
    {
      "code": "home",
      "text": "Дозволил барон, явиться домой, но к Титу (герою) приставил конвой.",
      "selects": [
        {
          "nextScene": "traktir",
          "task": {
            "code": "goToTraktir",
            "name": "Собрать вещи и направить свои мощи дальше",
            "results": [
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE",
                "workerFunction": {
                  "statuses": [
                    {
                      "code": "thiefRANK",
                      "value": 4
                    },
                    {
                      "code": "merchantRANK",
                      "value": 20.0
                    }
                  ],
                  "defaultValue": 3
                },
                "status": {
                  "code": "goldenCoinsRES",
                  "name": "Золотые монеты",
                  "value": 0.0,
                  "visible": true
                },
                "successMessage": "В доме нашлось #VALUE монет"
              },
              {
                "target": "HUTOR",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "cart",
                  "name": "Телега",
                  "description": "Лошадь прилагается, но не изымается",
                  "value": 1.0,
                  "visible": true
                },
                "successMessage": "Телега",
                "conditions": [
                  {
                    "statusCode": "merchantRANK",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 100.0
                  }
                ]
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "passkey",
                  "name": "Отмычки",
                  "value": 1.0,
                  "visible": true
                },
                "successMessage": "Отмычки",
                "conditions": [
                  {
                    "statusCode": "thiefRANK",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 100.0
                  }
                ]
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "daggerWEAPON",
                  "name": "Кинжал",
                  "value": 1.0,
                  "visible": true
                },
                "successMessage": "Кинжал",
                "conditions": [
                  {
                    "statusCode": "thiefRANK",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 100.0
                  }
                ]
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "bowWEAPON",
                  "name": "Лук",
                  "description": "Яйца и бесконечные стрелы прилагаются",
                  "value": 1.0,
                  "visible": true
                },
                "successMessage": "Лук",
                "conditions": [
                  {
                    "statusCode": "hunterRANK",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 100.0
                  }
                ]
              },
              {
                "target": "ONE_SELECTED_WORKER",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "spearWEAPON",
                  "name": "Копье",
                  "description": "Короткое и толстое для ближнего боя со зверем или человеком",
                  "value": 1.0,
                  "visible": true
                },
                "successMessage": "Копье",
                "conditions": [
                  {
                    "statusCode": "hunterRANK",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 100.0
                  }
                ]
              }
            ]
          }
        },
        {
          "nextScene": "escape",
          "task": {
            "code": "escape",
            "name": "Срочно бежать! Не дело тирану в таком помогать!",
            "results": [
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE",
                "workerFunction": {
                  "statuses": [
                    {
                      "code": "agilitySTATUS",
                      "value": 1
                    }
                  ],
                  "defaultValue": 0
                },
                "status": {
                  "code": "chanceToEscape",
                  "name": "Шанс на побег",
                  "value": 0.0,
                  "visible": false
                }
              },
              {
                "target": "HUTOR",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "VICTORY",
                  "name": "ПОБЕДА",
                  "description": "Титу удалось сбежать. И хутор морты может спокойно спать",
                  "value": 1.0,
                  "visible": true
                },
                "conditions": [
                  {
                    "statusCode": "chanceToEscape",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 20.0
                  }
                ]
              },
              {
                "target": "HUTOR",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "chanceToEscape",
                  "name": "Шанс на побег",
                  "value": 0.0,
                  "visible": false
                }
              }
            ]
          }
        }
      ]
    },
    {
      "code": "escape",
      "type": "TECHNICAL",
      "text": "",
      "selects": [
        {
          "task": {
            "code": "catchPlayer",
            "name": "Стражники ловят игрока при неудачном побеге",
            "results": [
              {
                "target": "HUTOR",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "DEFEAT",
                  "name": "ПОРАЖЕНИЕ",
                  "description": "Тит был схвачен стражниками, а затем четвертован",
                  "value": 1.0,
                  "visible": true
                }
              }
            ]
          },
          "nextScene": "playersDead"
        }
      ]
    },
    {
      "code": "playersDead",
      "type": "END",
      "text": "Тит был схвачен стражниками, а затем четвертован"
    },
    {
      "code": "traktir",
      "text": "Искомый хутор находится в дремучем лесу на севере, за бурной рекой. Перед этой рекой имеется трактир - последнее бойкое место перед глушью, хотя не сказать, что и здесь многолюдно, но все же есть с кем выпить и поговорить",
      "selects": [
        {
          "nextScene": "escape",
          "task": {
            "code": "escape",
            "name": "Вот глушь впереди, а барон позади. Погляди, благодать - пора мне линять!",
            "results": [
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE",
                "workerFunction": {
                  "statuses": [
                    {
                      "code": "agilitySTATUS",
                      "value": 1
                    }
                  ],
                  "defaultValue": 0
                },
                "status": {
                  "code": "chanceToEscape",
                  "name": "Шанс на побег",
                  "value": 0.0,
                  "visible": false
                }
              },
              {
                "target": "HUTOR",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "VICTORY",
                  "name": "ПОБЕДА",
                  "description": "Титу удалось сбежать. И хутор морты может спокойно спать",
                  "value": 1.0,
                  "visible": true
                },
                "conditions": [
                  {
                    "statusCode": "chanceToEscape",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 20.0
                  },
                  {
                    "statusCode": "wasEscorted",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": -10.0
                  }
                ]
              },
              {
                "target": "HUTOR",
                "action": "SET_STATUS_VALUE",
                "status": {
                  "code": "chanceToEscape",
                  "name": "Шанс на побег",
                  "value": 0.0,
                  "visible": false
                }
              }
            ]
          }
        },
        {
          "nextScene": "hutorEND",
          "task": {
            "code": "goToHutor",
            "name": "Отправиться в брод через реку и по тропе к хутору"
          }
        },
        {
          "nextScene": "traktir",
          "task": {
            "code": "drink",
            "name": "Задержаться в цивилизации на недельку: попить пива, сыграть в кости, обзавестить связями",
            "description": "Увеселительная неделя обходится в 5 золотых монет",
            "results": [
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "goldenCoinsRES",
                  "name": "Золотые монеты",
                  "value": -5.0,
                  "visible": true
                }
              },
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "weeksRES",
                  "name": "Прошло недель",
                  "value": 1.0,
                  "visible": true
                },
                "successMessage": "Прошла неделя отпущенного срока"
              },
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "attractive",
                  "name": "Привлекательность хутора для торговцев и путников",
                  "value": 1.0,
                  "visible": false
                },
                "successMessage": "Титу удалось пообщаться с интересными людьми - возможно, что в будущем они наведаются на хутор",
                "conditions": [
                  {
                    "statusCode": "",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 50.0
                  },
                  {
                    "statusCode": "merchantRANK",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 20.0
                  },
                  {
                    "statusCode": "thiefRANK",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": 10.0
                  },
                  {
                    "statusCode": "hunterRANK",
                    "symbol": "MORE",
                    "statusValue": 0.0,
                    "value": -10.0
                  }
                ]
              },
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_BY_RANDOM_VALUE",
                "status": {
                  "code": "goldenCoinsRES",
                  "name": "Золотые монеты",
                  "value": 5.0,
                  "visible": true
                },
                "successMessage": "Тит выиграл в кости #VALUE монет"
              }
            ],
            "permissiveConditions": [
              {
                "statusCode": "goldenCoinsRES",
                "symbol": "MORE",
                "statusValue": 4.0
              }
            ]
          }
        },
        {
          "nextScene": "traktir",
          "task": {
            "code": "drink",
            "name": "Попить пива c мутными типами в углу",
            "results": [
              {
                "target": "HUTOR",
                "action": "CHANGE_STATUS_VALUE_BY_FIXED_POINT",
                "status": {
                  "code": "hasSpecialOffer",
                  "name": "Предложение о помощи в побеге от барона от мутных типов",
                  "value": 1.0,
                  "visible": true
                },
                "successMessage": "Самый страшный из типов предложил Титу за 30 монет помочь сбежать за в дальние страны. \"Приходи, как найдешь деньги\""
              }
            ],
            "permissiveConditions": [
              {
                "statusCode": "wasEscorted",
                "symbol": "LESS",
                "statusValue": 1.0
              },
              {
                "statusCode": "hasSpecialOffer",
                "symbol": "LESS",
                "statusValue": 1.0
              }
            ]
          }
        }
      ]
    },
    {
      "code": "hutorEND",
      "type": "END",
      "text": "Тит прибыл на хутор Морты, оказавшись между ведьмой и бароном. Предъявив жителям вверенную грамоту, с жаром принялся искать выход из своего незавидного положения..."
    }
  ]
}